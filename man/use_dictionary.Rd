% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/use_dictionary.R
\name{use_dictionary}
\alias{use_dictionary}
\title{Check a data frame against the package data dictionary}
\usage{
use_dictionary(df, type = c("columns", "values"))
}
\arguments{
\item{df}{A data frame (or tibble) to check.}

\item{type}{Either \code{"columns"} or \code{"values"} to choose which kind
of discrepancy to identify. Partial matching is not allowed.}
}
\value{
A tibble of discrepancies:
\itemize{
\item For \code{type = "columns"}: a tibble with columns
\code{your_column} and \code{result} (\code{"good"} or a message).
\item For \code{type = "values"}: a tibble with columns
\code{value_variable} and \code{value} listing values present in
\code{df} but not found in the dictionary for that variable.
}
}
\description{
Compares a data frame's column names or values to the package's data
dictionary and reports discrepancies without modifying the input.
}
\details{
This function reads two CSV files shipped with the package (under
\code{inst/extdata} and accessed via \code{system.file()}):
\itemize{
\item \strong{data_dictionary_variables.csv} — must contain a column
\code{variable} listing all allowed column names.
\item \strong{data_dictionary_values.csv} — must contain columns
\code{value_variable} (the column name the value belongs to) and
\code{value} (the allowed value).
}

Behavior by \code{type}:
\describe{
\item{\code{"columns"}}{Returns a tibble with each of \code{df}'s column
names and a \code{result} indicating whether that name exists in the
dictionary.}
\item{\code{"values"}}{Selects columns of \code{df} whose names match any
\code{value_variable} in the value dictionary, collapses to distinct
pairs \code{(value_variable, value)}, and returns the subset whose values
are \emph{not} listed as allowed in the dictionary.}
}
}
\examples{
\dontrun{
# Suppose the dictionary lists allowed columns: c("year", "sector", "value")
# and allowed values for sector: c("residential", "commercial")
library(tibble)
df <- tibble(Year = c(2020, 2021), sector = c("Residential", "industrial"), value = 1:2)

# Column-name check
use_dictionary(df, type = "columns")

# Value check (reports values not in the dictionary per value_variable)
use_dictionary(df, type = "values")
}

}
\seealso{
\code{\link[readr]{read_csv}}, \code{\link[tidyr]{pivot_longer}},
\code{\link[dplyr]{anti_join}}
}
\keyword{data-cleaning}
\keyword{dictionary}
\keyword{validation}
